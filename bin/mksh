#!/usr/bin/env bash
set -e
set -u
set -o pipefail

# Original command by Evan Hahn
# https://codeberg.org/EvanHahn/dotfiles/src/commit/843b9ee13d949d346a4a73ccee2a99351aed285b/home/bin/bin/mksh

if [ ! $# -eq 1 ]; then
  echo 'mksh takes one argument' 1>&2
  exit 1
elif [ -e "$ZSH/bin/$1" ]; then
  echo "$ZSH/bin/$1 already exists" 1>&2
  exit 1
fi

echo '#!/usr/bin/env bash
set -e
set -u
set -o pipefail

' > "$ZSH/bin/$1"

chmod u+x "$ZSH/bin/$1"

"$EDITOR" "$ZSH/bin/$1"